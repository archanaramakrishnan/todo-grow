{"ast":null,"code":"import _slicedToArray from\"/Users/archanaramki/Workspace/todo-grow/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import EditIcon from'@mui/icons-material/Edit';import DeleteIcon from'@mui/icons-material/Delete';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function usePrevious(value){var ref=useRef();useEffect(function(){ref.current=value;});return ref.current;}export default function Todo(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditing=_useState2[0],setIsEditing=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var editFieldRef=useRef(null);var editButtonRef=useRef(null);var wasEditing=usePrevious(isEditing);var editingTemplate=/*#__PURE__*/_jsxs(\"form\",{className:\"stack-small\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"todo-label\",htmlFor:props.id,children:[\"New name for \",props.name]}),/*#__PURE__*/_jsx(\"input\",{id:props.id,className:\"todo-text\",type:\"text\",value:newName,onChange:handleChange,ref:editFieldRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn todo-cancel\",onClick:function onClick(){return setIsEditing(false);},children:[\"Cancel\",/*#__PURE__*/_jsxs(\"span\",{className:\"visually-hidden\",children:[\"renaming \",props.name]})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn__primary todo-edit\",children:[\"Save\",/*#__PURE__*/_jsxs(\"span\",{className:\"visually-hidden\",children:[\"new name for \",props.name]})]})]})]});var editTemplate=/*#__PURE__*/_jsx(\"div\",{className:\"stack-small\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"c-cb\",children:[/*#__PURE__*/_jsx(\"input\",{id:props.id,type:\"checkbox\",defaultChecked:props.completed,onChange:function onChange(){return props.toggleTaskCompleted(props.id);}}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{id:props.id,className:\"todo-text\",type:\"text\"})})]})});var viewTemplate=/*#__PURE__*/_jsxs(\"div\",{className:\"stack-small\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"c-cb\",children:[/*#__PURE__*/_jsx(\"input\",{id:props.id,type:\"checkbox\",defaultChecked:props.completed,onChange:function onChange(){return props.toggleTaskCompleted(props.id);}}),/*#__PURE__*/_jsx(\"label\",{className:\"todo-label\",htmlFor:props.id,children:props.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn\",onClick:function onClick(){return setIsEditing(true);},ref:editButtonRef,children:[/*#__PURE__*/_jsx(EditIcon,{fontSize:\"large\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:props.name})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn__danger\",onClick:function onClick(){return props.deleteTask(props.id);},children:[/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"large\",style:{color:'red'}}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:props.name})]})]})]});function handleChange(e){setNewName(e.target.value);}function handleSubmit(e){e.preventDefault();props.editTask(props.id,newName);setNewName(\"\");setIsEditing(false);}useEffect(function(){if(!wasEditing&&isEditing){editFieldRef.current.focus();}if(wasEditing&&!isEditing){editButtonRef.current.focus();}},[wasEditing,isEditing]);return/*#__PURE__*/_jsx(\"li\",{className:\"todo\",children:isEditing?editingTemplate:viewTemplate});}","map":{"version":3,"names":["React","useEffect","useRef","useState","EditIcon","DeleteIcon","usePrevious","value","ref","current","Todo","props","isEditing","setIsEditing","newName","setNewName","editFieldRef","editButtonRef","wasEditing","editingTemplate","handleSubmit","id","name","handleChange","editTemplate","completed","toggleTaskCompleted","viewTemplate","deleteTask","color","e","target","preventDefault","editTask","focus"],"sources":["/Users/archanaramki/Workspace/todo-grow/src/components/Todo.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport EditIcon from '@mui/icons-material/Edit';\nimport DeleteIcon from '@mui/icons-material/Delete';\n\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nexport default function Todo(props) {\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [newName, setNewName] = useState('');\n  const editFieldRef = useRef(null);\n  const editButtonRef = useRef(null);\n  const wasEditing = usePrevious(isEditing);\n\n\n  const editingTemplate = (\n    <form className=\"stack-small\" onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label className=\"todo-label\" htmlFor={props.id}>\n          New name for {props.name}\n        </label>\n        <input \n          id={props.id} \n          className=\"todo-text\" \n          type=\"text\"\n          value={newName}\n          onChange={handleChange}\n          ref={editFieldRef}\n        />\n      </div>\n      <div className=\"btn-group\">\n        <button type=\"button\" className=\"btn todo-cancel\" onClick= {() => setIsEditing(false)}>\n          Cancel\n          <span className=\"visually-hidden\">renaming {props.name}</span>\n        </button>\n        <button type=\"submit\" className=\"btn btn__primary todo-edit\">\n          Save\n          <span className=\"visually-hidden\">new name for {props.name}</span>\n        </button>\n      </div>\n    </form>\n  );\n\n  const editTemplate = (\n    <div className=\"stack-small\">\n      <div className=\"c-cb\">\n          <input\n            id={props.id}\n            type=\"checkbox\"\n            defaultChecked={props.completed}\n            onChange={() => props.toggleTaskCompleted(props.id)}\n          />\n          <div className=\"form-group\">\n            <input id={props.id} className=\"todo-text\" type=\"text\" />\n          </div>\n        </div>\n    </div>\n  );\n\n\n  \n\n  const viewTemplate = (\n    <div className=\"stack-small\">\n      <div className=\"c-cb\">\n          {/* <div className=\"container\"> */}\n          <input\n            id={props.id}\n            type=\"checkbox\"\n            defaultChecked={props.completed}\n            onChange={() => props.toggleTaskCompleted(props.id)}\n          />\n          <label className=\"todo-label\" htmlFor={props.id}>\n            {props.name}\n          </label>\n        </div>\n        <div className=\"btn-group\">\n          <button \n              type=\"button\" \n              className=\"btn\" \n              onClick= {() => setIsEditing(true)}\n              ref={editButtonRef}>\n             <EditIcon fontSize=\"large\"/> <span className=\"visually-hidden\">{props.name}</span>\n          </button>\n          <button\n            type=\"button\"\n            className=\"btn btn__danger\"\n            onClick={() => props.deleteTask(props.id)}>\n            <DeleteIcon fontSize=\"large\" style={{ color: 'red' }} /> <span className=\"visually-hidden\">{props.name}</span>\n          </button>\n        </div>\n        {/* </div> */}\n    </div>\n  );\n\n  function handleChange(e) {\n    setNewName(e.target.value);\n  }  \n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.editTask(props.id, newName);\n    setNewName(\"\");\n    setIsEditing(false);\n  }\n\n  useEffect(() => {\n    if (!wasEditing && isEditing) {\n      editFieldRef.current.focus();\n    }\n    if (wasEditing && !isEditing) {\n      editButtonRef.current.focus();\n    }\n  }, [wasEditing, isEditing]);\n  \n  \n  \n\n\n  return <li className=\"todo\">{isEditing ? editingTemplate : viewTemplate}</li>;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}